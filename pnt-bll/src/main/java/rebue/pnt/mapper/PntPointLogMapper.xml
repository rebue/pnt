<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rebue.pnt.mapper.PntPointLogMapper">
	<resultMap id="BaseResultMap" type="rebue.pnt.mo.PntPointLogMo">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		<id column="ID" jdbcType="BIGINT" property="id" />
		<result column="ACCOUNT_ID" jdbcType="BIGINT" property="accountId" />
		<result column="POINT_LOG_TYPE" jdbcType="TINYINT" property="pointLogType" />
		<result column="POINT_BEFORE_CHANGED" jdbcType="DECIMAL" property="pointBeforeChanged" />
		<result column="CHANGED_POINT" jdbcType="DECIMAL" property="changedPoint" />
		<result column="POINT_AFTER_CHANGED" jdbcType="DECIMAL" property="pointAfterChanged" />
		<result column="CHANGED_TITILE" jdbcType="VARCHAR" property="changedTitile" />
		<result column="CHANGED_DETAIL" jdbcType="VARCHAR" property="changedDetail" />
		<result column="ORDER_ID" jdbcType="BIGINT" property="orderId" />
		<result column="ORDER_DETAIL_ID" jdbcType="BIGINT" property="orderDetailId" />
		<result column="MODIFIED_TIMESTAMP" jdbcType="BIGINT" property="modifiedTimestamp" />
		<result column="OLD_MODIFIED_TIMESTAMP" jdbcType="BIGINT" property="oldModifiedTimestamp" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		ID, ACCOUNT_ID, POINT_LOG_TYPE, POINT_BEFORE_CHANGED, CHANGED_POINT, POINT_AFTER_CHANGED,
		CHANGED_TITILE, CHANGED_DETAIL, ORDER_ID, ORDER_DETAIL_ID, MODIFIED_TIMESTAMP, OLD_MODIFIED_TIMESTAMP
	</sql>
	<select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from PNT_POINT_LOG
		where ID = #{id,jdbcType=BIGINT}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		delete from PNT_POINT_LOG
		where ID = #{id,jdbcType=BIGINT}
	</delete>
	<insert id="insert" parameterType="rebue.pnt.mo.PntPointLogMo">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		insert into PNT_POINT_LOG (ID, ACCOUNT_ID, POINT_LOG_TYPE,
		POINT_BEFORE_CHANGED, CHANGED_POINT, POINT_AFTER_CHANGED,
		CHANGED_TITILE, CHANGED_DETAIL, ORDER_ID,
		ORDER_DETAIL_ID, MODIFIED_TIMESTAMP, OLD_MODIFIED_TIMESTAMP
		)
		values (#{id,jdbcType=BIGINT}, #{accountId,jdbcType=BIGINT}, #{pointLogType,jdbcType=TINYINT},
		#{pointBeforeChanged,jdbcType=DECIMAL}, #{changedPoint,jdbcType=DECIMAL}, #{pointAfterChanged,jdbcType=DECIMAL},
		#{changedTitile,jdbcType=VARCHAR}, #{changedDetail,jdbcType=VARCHAR}, #{orderId,jdbcType=BIGINT},
		#{orderDetailId,jdbcType=BIGINT}, #{modifiedTimestamp,jdbcType=BIGINT}, #{oldModifiedTimestamp,jdbcType=BIGINT}
		)
	</insert>
	<insert id="insertSelective" parameterType="rebue.pnt.mo.PntPointLogMo">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		insert into PNT_POINT_LOG
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="accountId != null">
				ACCOUNT_ID,
			</if>
			<if test="pointLogType != null">
				POINT_LOG_TYPE,
			</if>
			<if test="pointBeforeChanged != null">
				POINT_BEFORE_CHANGED,
			</if>
			<if test="changedPoint != null">
				CHANGED_POINT,
			</if>
			<if test="pointAfterChanged != null">
				POINT_AFTER_CHANGED,
			</if>
			<if test="changedTitile != null">
				CHANGED_TITILE,
			</if>
			<if test="changedDetail != null">
				CHANGED_DETAIL,
			</if>
			<if test="orderId != null">
				ORDER_ID,
			</if>
			<if test="orderDetailId != null">
				ORDER_DETAIL_ID,
			</if>
			<if test="modifiedTimestamp != null">
				MODIFIED_TIMESTAMP,
			</if>
			<if test="oldModifiedTimestamp != null">
				OLD_MODIFIED_TIMESTAMP,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=BIGINT},
			</if>
			<if test="accountId != null">
				#{accountId,jdbcType=BIGINT},
			</if>
			<if test="pointLogType != null">
				#{pointLogType,jdbcType=TINYINT},
			</if>
			<if test="pointBeforeChanged != null">
				#{pointBeforeChanged,jdbcType=DECIMAL},
			</if>
			<if test="changedPoint != null">
				#{changedPoint,jdbcType=DECIMAL},
			</if>
			<if test="pointAfterChanged != null">
				#{pointAfterChanged,jdbcType=DECIMAL},
			</if>
			<if test="changedTitile != null">
				#{changedTitile,jdbcType=VARCHAR},
			</if>
			<if test="changedDetail != null">
				#{changedDetail,jdbcType=VARCHAR},
			</if>
			<if test="orderId != null">
				#{orderId,jdbcType=BIGINT},
			</if>
			<if test="orderDetailId != null">
				#{orderDetailId,jdbcType=BIGINT},
			</if>
			<if test="modifiedTimestamp != null">
				#{modifiedTimestamp,jdbcType=BIGINT},
			</if>
			<if test="oldModifiedTimestamp != null">
				#{oldModifiedTimestamp,jdbcType=BIGINT},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="rebue.pnt.mo.PntPointLogMo">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		update PNT_POINT_LOG
		<set>
			<if test="accountId != null">
				ACCOUNT_ID = #{accountId,jdbcType=BIGINT},
			</if>
			<if test="pointLogType != null">
				POINT_LOG_TYPE = #{pointLogType,jdbcType=TINYINT},
			</if>
			<if test="pointBeforeChanged != null">
				POINT_BEFORE_CHANGED = #{pointBeforeChanged,jdbcType=DECIMAL},
			</if>
			<if test="changedPoint != null">
				CHANGED_POINT = #{changedPoint,jdbcType=DECIMAL},
			</if>
			<if test="pointAfterChanged != null">
				POINT_AFTER_CHANGED = #{pointAfterChanged,jdbcType=DECIMAL},
			</if>
			<if test="changedTitile != null">
				CHANGED_TITILE = #{changedTitile,jdbcType=VARCHAR},
			</if>
			<if test="changedDetail != null">
				CHANGED_DETAIL = #{changedDetail,jdbcType=VARCHAR},
			</if>
			<if test="orderId != null">
				ORDER_ID = #{orderId,jdbcType=BIGINT},
			</if>
			<if test="orderDetailId != null">
				ORDER_DETAIL_ID = #{orderDetailId,jdbcType=BIGINT},
			</if>
			<if test="modifiedTimestamp != null">
				MODIFIED_TIMESTAMP = #{modifiedTimestamp,jdbcType=BIGINT},
			</if>
			<if test="oldModifiedTimestamp != null">
				OLD_MODIFIED_TIMESTAMP = #{oldModifiedTimestamp,jdbcType=BIGINT},
			</if>
		</set>
		where ID = #{id,jdbcType=BIGINT}
	</update>
	<update id="updateByPrimaryKey" parameterType="rebue.pnt.mo.PntPointLogMo">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		update PNT_POINT_LOG
		set ACCOUNT_ID = #{accountId,jdbcType=BIGINT},
		POINT_LOG_TYPE = #{pointLogType,jdbcType=TINYINT},
		POINT_BEFORE_CHANGED = #{pointBeforeChanged,jdbcType=DECIMAL},
		CHANGED_POINT = #{changedPoint,jdbcType=DECIMAL},
		POINT_AFTER_CHANGED = #{pointAfterChanged,jdbcType=DECIMAL},
		CHANGED_TITILE = #{changedTitile,jdbcType=VARCHAR},
		CHANGED_DETAIL = #{changedDetail,jdbcType=VARCHAR},
		ORDER_ID = #{orderId,jdbcType=BIGINT},
		ORDER_DETAIL_ID = #{orderDetailId,jdbcType=BIGINT},
		MODIFIED_TIMESTAMP = #{modifiedTimestamp,jdbcType=BIGINT},
		OLD_MODIFIED_TIMESTAMP = #{oldModifiedTimestamp,jdbcType=BIGINT}
		where ID = #{id,jdbcType=BIGINT}
	</update>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select ID, ACCOUNT_ID, POINT_LOG_TYPE, POINT_BEFORE_CHANGED, CHANGED_POINT, POINT_AFTER_CHANGED,
		CHANGED_TITILE, CHANGED_DETAIL, ORDER_ID, ORDER_DETAIL_ID, MODIFIED_TIMESTAMP, OLD_MODIFIED_TIMESTAMP
		from PNT_POINT_LOG
	</select>
	<select id="selectSelective" parameterType="rebue.pnt.mo.PntPointLogMo" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from PNT_POINT_LOG
		<where>
			<if test="accountId != null">
				and ACCOUNT_ID = #{accountId,jdbcType=BIGINT}
			</if>
			<if test="pointLogType != null">
				and POINT_LOG_TYPE = #{pointLogType,jdbcType=TINYINT}
			</if>
			<if test="pointBeforeChanged != null">
				and POINT_BEFORE_CHANGED = #{pointBeforeChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedPoint != null">
				and CHANGED_POINT = #{changedPoint,jdbcType=DECIMAL}
			</if>
			<if test="pointAfterChanged != null">
				and POINT_AFTER_CHANGED = #{pointAfterChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedTitile != null and changedTitile != ''">
				and CHANGED_TITILE = #{changedTitile,jdbcType=VARCHAR}
			</if>
			<if test="changedDetail != null and changedDetail != ''">
				and CHANGED_DETAIL = #{changedDetail,jdbcType=VARCHAR}
			</if>
			<if test="orderId != null">
				and ORDER_ID = #{orderId,jdbcType=BIGINT}
			</if>
			<if test="orderDetailId != null">
				and ORDER_DETAIL_ID = #{orderDetailId,jdbcType=BIGINT}
			</if>
			<if test="modifiedTimestamp != null">
				and MODIFIED_TIMESTAMP = #{modifiedTimestamp,jdbcType=BIGINT}
			</if>
			<if test="oldModifiedTimestamp != null">
				and OLD_MODIFIED_TIMESTAMP = #{oldModifiedTimestamp,jdbcType=BIGINT}
			</if>
		</where>
	</select>
	<select id="existByPrimaryKey" parameterType="java.lang.Long" resultType="boolean">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select count(*)
		from PNT_POINT_LOG
		where ID = #{id,jdbcType=BIGINT}
	</select>
	<select id="existSelective" parameterType="rebue.pnt.mo.PntPointLogMo" resultType="boolean">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select count(*)
		from PNT_POINT_LOG
		<where>
			<if test="id != null and id != ''">
				and ID = #{id,jdbcType=BIGINT}
			</if>
			<if test="accountId != null and accountId != ''">
				and ACCOUNT_ID = #{accountId,jdbcType=BIGINT}
			</if>
			<if test="pointLogType != null and pointLogType != ''">
				and POINT_LOG_TYPE = #{pointLogType,jdbcType=TINYINT}
			</if>
			<if test="pointBeforeChanged != null and pointBeforeChanged != ''">
				and POINT_BEFORE_CHANGED = #{pointBeforeChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedPoint != null and changedPoint != ''">
				and CHANGED_POINT = #{changedPoint,jdbcType=DECIMAL}
			</if>
			<if test="pointAfterChanged != null and pointAfterChanged != ''">
				and POINT_AFTER_CHANGED = #{pointAfterChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedTitile != null and changedTitile != ''">
				and CHANGED_TITILE = #{changedTitile,jdbcType=VARCHAR}
			</if>
			<if test="changedDetail != null and changedDetail != ''">
				and CHANGED_DETAIL = #{changedDetail,jdbcType=VARCHAR}
			</if>
			<if test="orderId != null and orderId != ''">
				and ORDER_ID = #{orderId,jdbcType=BIGINT}
			</if>
			<if test="orderDetailId != null and orderDetailId != ''">
				and ORDER_DETAIL_ID = #{orderDetailId,jdbcType=BIGINT}
			</if>
			<if test="modifiedTimestamp != null and modifiedTimestamp != ''">
				and MODIFIED_TIMESTAMP = #{modifiedTimestamp,jdbcType=BIGINT}
			</if>
			<if test="oldModifiedTimestamp != null and oldModifiedTimestamp != ''">
				and OLD_MODIFIED_TIMESTAMP = #{oldModifiedTimestamp,jdbcType=BIGINT}
			</if>
		</where>
	</select>
	<select id="countSelective" parameterType="rebue.pnt.mo.PntPointLogMo" resultType="int">
		<!-- WARNING - @mbg.generated This element is automatically generated by MyBatis Generator, do not modify. -->
		select count(1)
		from PNT_POINT_LOG
		<where>
			<if test="accountId != null">
				and ACCOUNT_ID = #{accountId,jdbcType=BIGINT}
			</if>
			<if test="pointLogType != null">
				and POINT_LOG_TYPE = #{pointLogType,jdbcType=TINYINT}
			</if>
			<if test="pointBeforeChanged != null">
				and POINT_BEFORE_CHANGED = #{pointBeforeChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedPoint != null">
				and CHANGED_POINT = #{changedPoint,jdbcType=DECIMAL}
			</if>
			<if test="pointAfterChanged != null">
				and POINT_AFTER_CHANGED = #{pointAfterChanged,jdbcType=DECIMAL}
			</if>
			<if test="changedTitile != null and changedTitile != ''">
				and CHANGED_TITILE = #{changedTitile,jdbcType=VARCHAR}
			</if>
			<if test="changedDetail != null and changedDetail != ''">
				and CHANGED_DETAIL = #{changedDetail,jdbcType=VARCHAR}
			</if>
			<if test="orderId != null">
				and ORDER_ID = #{orderId,jdbcType=BIGINT}
			</if>
			<if test="orderDetailId != null">
				and ORDER_DETAIL_ID = #{orderDetailId,jdbcType=BIGINT}
			</if>
			<if test="modifiedTimestamp != null">
				and MODIFIED_TIMESTAMP = #{modifiedTimestamp,jdbcType=BIGINT}
			</if>
			<if test="oldModifiedTimestamp != null">
				and OLD_MODIFIED_TIMESTAMP = #{oldModifiedTimestamp,jdbcType=BIGINT}
			</if>
		</where>
	</select>

	<!-- 根据账号id获取昨天最后一个修改后的积分 -->
	<!-- <select id="selectPointAfterChangedByAccountId" parameterType="java.lang.Long" resultType="java.math.BigDecimal"> -->
	<!-- SELECT -->
	<!-- POINT_AFTER_CHANGED as pointAfterChanged -->
	<!-- FROM -->
	<!-- pnt.PNT_POINT_LOG -->
	<!-- WHERE -->
	<!-- ACCOUNT_ID = #{accountId,jdbcType=BIGINT} -->
	<!-- AND MODIFIED_TIMESTAMP &lt; UNIX_TIMESTAMP(CAST(SYSDATE() AS DATE)) * 1000 -->
	<!-- ORDER BY MODIFIED_TIMESTAMP DESC -->
	<!-- LIMIT 1; -->
</select>
</mapper>